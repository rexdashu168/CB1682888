<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡æ–™æ¸¬è©¦</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            background: white;
        }
        .success { border-left: 4px solid #4caf50; }
        .error { border-left: 4px solid #f44336; }
        .info { border-left: 4px solid #2196f3; }
        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>ğŸ” è³‡æ–™è¼‰å…¥æ¸¬è©¦</h1>
    <div id="status"></div>
    
    <script>
        const statusDiv = document.getElementById('status');
        
        function addStatus(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = message;
            statusDiv.appendChild(div);
        }
        
        async function testDataLoad() {
            addStatus('ğŸ“ ç•¶å‰ä½ç½®: ' + window.location.href, 'info');
            
            const paths = [
                'data.json',
                './data.json',
                '/data.json',
                window.location.pathname.replace('test.html', 'data.json')
            ];
            
            for (const path of paths) {
                addStatus(`ğŸ”„ æ¸¬è©¦è·¯å¾‘: ${path}`, 'info');
                
                try {
                    const response = await fetch(path);
                    
                    if (response.ok) {
                        const data = await response.json();
                        const dataSize = JSON.stringify(data).length;
                        
                        addStatus(`âœ… æˆåŠŸï¼<br>
                            è·¯å¾‘: <code>${path}</code><br>
                            å¤§å°: ${(dataSize / 1024 / 1024).toFixed(2)} MB<br>
                            å…¬å¸æ•¸: ${data.companies ? data.companies.length : '?'}<br>
                            å ±å‘Šæ•¸: ${data.reports ? data.reports.length : '?'}`, 'success');
                        
                        return true;
                    } else {
                        addStatus(`âŒ HTTP ${response.status}: ${response.statusText}`, 'error');
                    }
                } catch (error) {
                    addStatus(`âŒ éŒ¯èª¤: ${error.message}`, 'error');
                }
            }
            
            addStatus(`âš ï¸ æ‰€æœ‰è·¯å¾‘éƒ½å¤±æ•—äº†ï¼<br>
                <strong>è§£æ±ºæ–¹æ³•ï¼š</strong><br>
                1. ç¢ºèª data.json å·²ä¸Šå‚³åˆ° GitHub<br>
                2. ç¢ºèªæª”æ¡ˆåç¨±æ­£ç¢ºï¼ˆå€åˆ†å¤§å°å¯«ï¼‰<br>
                3. æª¢æŸ¥ GitHub Pages è¨­å®šæ˜¯å¦å•Ÿç”¨<br>
                4. ç­‰å¾… 2-3 åˆ†é˜è®“ GitHub Pages å»ºç½®`, 'error');
            
            return false;
        }
        
        testDataLoad();
    </script>
</body>
</html>
